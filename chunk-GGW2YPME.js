import{F as s,I as n,g as i,zb as r}from"./chunk-XJT4ZB5V.js";var a=class o{constructor(e){this.router=e;this.checkLoginStatus(),this.isLoggedIn$.subscribe(t=>{})}isLoggedInSubject=new i(this.hasToken());isLoggedIn$=this.isLoggedInSubject.asObservable();tokenKey="auth_token";hasToken(){return!!localStorage.getItem(this.tokenKey)}checkLoginStatus(){let e=this.hasToken();this.isLoggedInSubject.next(e)}login(e){return new Promise(t=>{setTimeout(()=>{localStorage.setItem(this.tokenKey,"mock-jwt-token"),this.isLoggedInSubject.next(!0),t(!0)},800)})}logout(){localStorage.removeItem(this.tokenKey),this.isLoggedInSubject.next(!1),this.router.navigate(["/"],{queryParams:{loggedOut:!0}})}simulateLogin(){localStorage.setItem(this.tokenKey,"mock-jwt-token"),this.isLoggedInSubject.next(!0)}isAuthenticated(){return this.hasToken()}static \u0275fac=function(t){return new(t||o)(n(r))};static \u0275prov=s({token:o,factory:o.\u0275fac,providedIn:"root"})};export{a};
